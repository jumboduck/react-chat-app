(this["webpackJsonpreact-chat-app"]=this["webpackJsonpreact-chat-app"]||[]).push([[0],{20:function(e,s,t){},26:function(e,s,t){},27:function(e,s,t){"use strict";t.r(s);var n=t(0),a=t(2),c=t.n(a),r=t(12),i=t.n(r),d=(t(20),t(14)),l=t(10),u=t(4),o=t(5),j=t(3),m=t(13),b=t.n(m),v=function(e){var s=Object(a.useRef)(),t=Object(a.useState)(!1),c=Object(u.a)(t,2),r=c[0],i=c[1];return Object(n.jsxs)("form",{className:"message-form",onSubmit:function(t){t.preventDefault(),s.current.value.trim().length>0&&(e.addNewMessage(s.current.value),e.setSavedMsg(""))},children:[Object(n.jsx)("label",{htmlFor:"message-input",className:"sr-only",children:"Message:"}),Object(n.jsx)("div",{className:r?"emoji-picker":"hidden",children:Object(n.jsx)(b.a,{disableAutoFocus:!0,onEmojiClick:function(e,t){i(!r);var n=s.current.selectionStart,a=s.current.selectionEnd-s.current.selectionStart,c=s.current.value.split("");c.splice(n,a,t.emoji);var d=c.join("");s.current.value=d,s.current.focus(),s.current.selectionStart=s.current.selectionEnd=n+1}})}),Object(n.jsx)("button",{type:"button",className:"open-emojis",onClick:function(e){e.preventDefault(),i(!r)},children:Object(n.jsx)(o.a,{icon:j.d})}),Object(n.jsx)("input",{id:"message-input",type:"text",ref:s,className:"message-input",placeholder:"Type here...",autoComplete:"off",onChange:function(s){e.setSavedMsg(s.currentTarget.value)},value:e.savedMsg||""}),Object(n.jsxs)("button",{type:"submit",className:"send-message",children:[Object(n.jsx)("span",{className:"sr-only",children:"send"}),Object(n.jsx)(o.a,{icon:j.b})]})]})},f=function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{className:"message",children:e.message.message}),Object(n.jsx)("p",{className:"msg-date",children:e.message.time})]})},g=function(e){var s=e.messages.name,t=e.messages.messages,c=Object(a.useRef)(null);return Object(a.useEffect)((function(){c&&c.current.addEventListener("DOMNodeInserted",(function(e){var s=e.currentTarget;s.scroll({top:s.scrollHeight})}))}),[]),Object(n.jsxs)("div",{className:"chat-window",children:[Object(n.jsx)("ul",{className:"message-list",ref:c,children:0!==t.length?t.map((function(e,s){return Object(n.jsx)("li",{children:Object(n.jsx)(f,{message:e})},s)})):null}),0===t.length?Object(n.jsxs)("p",{className:"no-message",children:["This is the beginning of your conversation with"," ",s]}):null,Object(n.jsx)(v,{addNewMessage:e.addNewMessage,updateSaved:e.updateSaved,setSavedMsg:e.setSavedMsg,savedMsg:e.savedMsg})]})},O=function(e){var s=Object(a.useRef)();return Object(n.jsxs)("form",{className:"message-form friend-form",onSubmit:function(t){t.preventDefault(),s.current.value.length>0&&(e.addNewFriend(s.current.value),s.current.value="")},children:[Object(n.jsx)("label",{htmlFor:"new-friend",className:"sr-only",children:"Enter new friend's Name"}),Object(n.jsx)("input",{id:"new-friend",type:"text",ref:s,className:"new-friend",placeholder:"Add a friend",autoComplete:"off"}),Object(n.jsxs)("button",{type:"submit",className:"send-message",children:[Object(n.jsx)("span",{className:"sr-only",children:"add a friend"}),Object(n.jsx)(o.a,{icon:j.c})]})]})},h=function(e){for(var s=function(s){s.preventDefault(),e.updateSaved(e.savedMsg);var t=s.target.dataset.conv;e.setCurrentConv(t),e.setSavedMsg(e.data[t].saved),i(!1)},t=Object(a.useState)(!1),c=Object(u.a)(t,2),r=c[0],i=c[1],d=[],l=0,m=Object.entries(e.data);l<m.length;l++){var b=Object(u.a)(m[l],2),v=b[0],f=b[1];d.push({name:f.name,id:v})}return Object(n.jsxs)("div",{className:"friend-list",children:[Object(n.jsxs)("h2",{className:"friends-title",children:[Object(n.jsxs)("button",{className:"hamburger-icon",onClick:function(e){e.preventDefault(),i(!r)},children:[Object(n.jsx)("span",{className:"sr-only",children:"Display Friend List"}),Object(n.jsx)(o.a,{icon:j.a})]}),Object(n.jsx)(o.a,{icon:j.e})," friends"]}),Object(n.jsxs)("div",{className:r?"friends-buttons":"friend-buttons hidden-mobile",children:[d.map((function(t){return Object(n.jsx)("button",{className:t.id===e.currentConv?"friend-btn friend-selected":"friend-btn","data-conv":t.id,onClick:s,children:t.name},t.id)})),Object(n.jsx)(O,{addNewFriend:e.addNewFriend})]})]})},p=function(){var e=Object(a.useState)("1"),s=Object(u.a)(e,2),t=s[0],c=s[1],r=Object(a.useState)({1:{name:"Daniel",messages:[],saved:""},2:{name:"Issaaf",messages:[],saved:""},3:{name:"Simon",messages:[],saved:""},4:{name:"Tracy",messages:[],saved:""},5:{name:"Whiskey",messages:[],saved:""}}),i=Object(u.a)(r,2),o=i[0],j=i[1],m=Object(a.useState)(""),b=Object(u.a)(m,2),v=b[0],f=b[1],O=function(e){var s=o[t];s.saved=e;var n=Object(l.a)({},o);n[t]=s,j(n)};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"chat-container",children:[Object(n.jsx)(h,{data:o,currentConv:t,setCurrentConv:c,addNewFriend:function(e){var s=Object.keys(o).map((function(e){return parseInt(e)})),t=Math.max.apply(Math,Object(d.a)(s))+1,n=Object(l.a)({},o);n[t]={name:e,messages:[]},j(n),c(t.toString())},updateSaved:O,savedMsg:v,setSavedMsg:f}),Object(n.jsx)(g,{messages:o[t],addNewMessage:function(e){var s=o[t],n=(new Date).toLocaleString();s.messages.push({message:e,time:n});var a=Object(l.a)({},o);a[t]=s,j(a)},updateSaved:O,setSavedMsg:f,savedMsg:v})]})})};t(26);var x=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(p,{})})},N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,28)).then((function(s){var t=s.getCLS,n=s.getFID,a=s.getFCP,c=s.getLCP,r=s.getTTFB;t(e),n(e),a(e),c(e),r(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(x,{})}),document.getElementById("root")),N()}},[[27,1,2]]]);
//# sourceMappingURL=main.ce342209.chunk.js.map